<ion-app>

  <ion-menu side="start" menuId="main-menu" contentId="main">
    <ion-header>

      <ion-toolbar class="ion-text-center">

        <div class="ion-padding">
          <div *ngIf="user.photo">
            <img src="{{user.photo}}" class="profile">
          </div>
          <div *ngIf="!user.photo">
            <img src="../assets/img/profile-default.png" class="profile">
          </div>
          <ion-label class="ion-text-center" color="light">
            <div style="font-size: 23px;color: aliceblue;padding-bottom: 5px;">{{user.name}}</div>  
            
            <ion-button class="cart-button" color="light" size="small" (click)="openCart()" expand="block"  shape="round">
             Carrito <ion-icon name="cart"></ion-icon>:<strong style="padding-left: 4px;">{{ cartItemCount | async }}</strong> 
            </ion-button>        
          </ion-label>
        </div>
      </ion-toolbar>
      <ion-toolbar>
        
        <ion-label *ngIf="reload" slot="end" >
        <ion-spinner slot="end" color="light"></ion-spinner>⠀</ion-label>
        <ion-buttons *ngIf="!reload" slot="end">
          <ion-button (click)="refresh()">
            <ion-icon color="light" name="reload-outline"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>     
    </ion-header>
    <ion-content>
       
      <ion-menu-toggle *ngIf="user.role == 'admin'"> 
     <ion-item (click)="adminTopics()" routerLink="/admin-panel" detail>
          <ion-label color="light">Administrador</ion-label>
          <fa-icon style="color: honeydew;" slot="start" [icon]="faUserShield">            ⠀
          </fa-icon>          
        </ion-item>
      </ion-menu-toggle>

      <ion-menu-toggle *ngIf="user.role == 'delivery'">
        <ion-item routerLink="/delivery-panel">
          <ion-label color="light">Delivery</ion-label>
          <fa-icon style="color: aliceblue;" slot="start" [icon]="faTruck"></fa-icon>
        </ion-item>
      </ion-menu-toggle>

      <ion-menu-toggle>
        <ion-item routerLink="/user-profile" detail>
          <ion-label color="light">Perfil</ion-label>
          <ion-icon color="light" slot="start" name="person-circle"></ion-icon>
        </ion-item>
      </ion-menu-toggle>

      <ion-menu-toggle>
        <ion-item routerLink="/store-home" detail>
          <ion-label color="light">Inicio</ion-label>
          <ion-icon color="light" slot="start" name="home"></ion-icon>
        </ion-item>
      </ion-menu-toggle>

      <ion-menu-toggle>
        <ion-item routerLink="/store-categorys" detail>
          <ion-label color="light">Tienda</ion-label>
          <fa-icon style="color: aliceblue;" slot="start" [icon]="faStore"></fa-icon>
        </ion-item>
      </ion-menu-toggle> 
      
     
    
    </ion-content>
    <ion-footer>
      <ion-menu-toggle>
        <ion-item class="ion-text-right" (click)="confirmLogOut()">
          <ion-icon color="light" slot="end" name="log-out"></ion-icon>
          <ion-label color="light">Cerrar Sesión</ion-label>
        </ion-item>
      </ion-menu-toggle>
    </ion-footer>

  </ion-menu>

  <ion-router-outlet id="main"></ion-router-outlet>
</ion-app>